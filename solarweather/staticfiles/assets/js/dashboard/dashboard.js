// @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
"use strict";import{setup}from"./controls.js";const updateDashboard=e=>{const t=document.getElementById("indoor-temp-now"),o=document.getElementById("indoor-temp-now-feels-like"),n=document.getElementById("indoor-temp-day-min"),d=document.getElementById("indoor-temp-day-max"),m=document.getElementById("outdoor-temp-now"),a=document.getElementById("outdoor-temp-now-feels-like"),r=document.getElementById("outdoor-temp-day-min"),i=document.getElementById("outdoor-temp-day-max"),l=e.indoor_temp.latest?e.indoor_temp.latest:0,p=e.indoor_feels_temp.latest?e.indoor_temp.latest:0,s=e.outdoor_temp.latest?e.outdoor_temp.latest:0,u=e.outdoor_feels_temp.latest?e.outdoor_feels_temp.latest:0;t.innerHTML=Number.parseFloat(l).toFixed(1),o.innerHTML=Number.parseFloat(p).toFixed(1),n.innerHTML=Number.parseFloat(e.indoor_temp.daily_min).toFixed(1),d.innerHTML=Number.parseFloat(e.indoor_temp.daily_max).toFixed(1),m.innerHTML=Number.parseFloat(s).toFixed(1),a.innerHTML=Number.parseFloat(u).toFixed(1),r.innerHTML=Number.parseFloat(e.outdoor_temp.daily_min).toFixed(1),i.innerHTML=Number.parseFloat(e.outdoor_temp.daily_max).toFixed(1)},getData=()=>{fetch("/dataajax/").then((e=>e.json())).then((e=>updateDashboard(e)))};export const init=()=>{setup(getData),getData()};